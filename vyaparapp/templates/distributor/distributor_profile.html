<!-- create by athul -->
{% extends 'distributor/distributor_base.html' %}
{% block content %}
{% load static %}
<style>
   @media (max-width:768px) {
        .h1{
            font-size: 15px;
            
            
        }
        .img-thumbnail{
            width: 100% !important;
        }
        .h5{
            font-size: 10px ;
        }
        #label{
            font-size: 8px;
        }
        #acol{
            margin-top: 20px !important;
            margin-left: 3px !important;
            margin-bottom: 0px !important;
            padding-bottom:0px !important ;
            width: 100% !important;
            margin-top: 50px !important;
        }
        #pcol{
            margin-left: 3px !important;
            margin-top: 30px !important;
            padding-top: 0px !important;
            width: 100% !important;
            margin-right: 3px !important;
        }
        #scond_main_row{
           height: 500px;
        }
    }
</style> 
<body style="background-color: rgba(176, 199, 205, 0.4);">
    <div class="body-wrapper">
        <div class="container-fluid">

            <div class="container p-5" >
                <div class="row " style="height: 300px;" >
                    <div class="col-md-4 p-3 pt-5" >
                        {% if distributor.img %}
                        <img   class="img-thumbnail" src="{{ distributor.img.url }}" style="width: 100%;height: 90%;box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);" alt="">
                        {% else %}
                        <img src="{% static 'assets/images/profile/user-1.jpg' %}"  style="width: 100%;height: 90%;box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);"
                          class="img-thumbnail">
                        {% endif %}
                    </div>
                    <div class="col-md-8 mb-5" >
                        <div class="row" style="background-color: white;box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);">
                            <h1 class="h1 text-center pt-3 pb-2" style="text-transform:uppercase; font-family: 'Times New Roman', Times, serif;padding-left: 5px;">
                                <b> {{distributor.user.first_name}} {{distributor.user.last_name}}</b></h1>

                        </div>
                        <div class="row mt-3"  style="background-color: rgba(176, 199, 205, 0.4);"></div>

                        
                        
                        <div class="row" style="background-color: white;box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);">
                            <div class="col pt-3" id="label">Distributor Id</div>
                            <div class="col pt-3"><h5 class="h5"><b>: {{distributor.distributor_id}}</b></h5></div>
                        </div>
                        <div class="row" style="background-color: white;box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);">
                            <div class="col pt-3" id="label">Designation</div>
                            <div class="col pt-3"><h5 class="h5"><b>: Distributor</b></h5></div>
                        </div>
                        <div class="row" style="background-color: white;box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);">
                            <div class="col pt-3" id="label">User Name</div>
                            <div class="col pt-3"><h5 class="h5"><b>: {{distributor.user.username}}</b></h5></div>
                        </div>
                        <div class="row" style="background-color: white;box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);">
                            <div class="col pt-3" id="label">Email</div>
                            <div class="col pt-3"><h5 class="h5"><b>: {{distributor.user.email}}</b></h5></div>
                        </div>
                        <div class="row" style="background-color: white;box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);">
                            <div class="col pt-3 pb-3" id="label">Contact</div>
                            <div class="col pt-3"><h5 class="h5"><b>: {{distributor.contact}}</b></h5></div>
                        </div>
                        <div class="row" style="background-color: white;box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);">
                            <div class="col pt-3 pb-3" id="label">Payment Term</div>
                            <div class="col pt-3">
                            <div class="d-flex">
                                    
                                <h5 class="h5"><b>: {{distributor.payment_term.payment_terms_number}} {{distributor.payment_term.payment_terms_value}}</b></h5>

                                   <!-- <button id="modal_closing" style="border-radius: 0px 10px 10px 0px;"
                                title="change Payment Term" type="button" class="btn btn-info" data-bs-toggle="modal"
                                data-bs-target="#partycreation" data-bs-whatever="@mdo"><i class="bx bx-plus"
                                    style="font-weight: bold;"></i></button> -->
                                    <button type="button "  style="margin-left: 150px;margin-bottom: 10px;"
                                    title="change Payment Term" type="button" class="btn btn-info"  data-bs-toggle="modal" data-bs-target="#exampleModal">
                                        Change
                                      </button>
                            </div>
                        </div>
                        </div>
                        <div class="row" style="background-color: white;box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);">
                            <div class="col pt-3 pb-3" id="label">End Date</div>
                            <div class="col pt-3"><h5 class="h5"><b>: {{distributor.End_date}}</b></h5></div>
                        </div>

                    </div>
                </div>
                <div class="row" style="margin-top: 15%;">
                    <center>
                        <a href="{% url 'Edit_Dprofile' %}" class="btn btn-danger m-3" style=" width: 40%;font-weight: bold;">Edit Profile</a></div>
                            
                      
                        </center>
                </div>
                
                
               
            
            </div>
            
        </div>
    </div>  
    
       <!-- Modal -->
       <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
        <div class="modal-content" style="background-color: white;">
            <div class="modal-header" style="border-bottom: 1px solid gray;">
            <h5 class="modal-title fs-5 " id="exampleModalLabel" style="color: black;"><b>Change Payment Terms</b></h5>
            <button type="button" class="btn-close text-danger" data-bs-dismiss="modal" aria-label="Close" style="background-color: white;border: none;">
                <i class='bx bx-right-arrow-circle' style="font-size: 22px;"></i>
            </button>
            
            </div>
            
            <div class="modal-body">
                <form action="{% url 'DChange_payment_terms' %}" method="post" style="padding: 10px;">
                    {% csrf_token %}
                    <label for="" style="color: black;margin-left: 20px;">current Payment Term</label><br>
                    <input type="text" value="{{distributor.payment_term.payment_terms_number}} {{distributor.payment_term.payment_terms_value}}" 
                    style="border: 1px solid gray; border-radius: 8px; font-weight: 500;width: 90%;margin-left: 20px;padding: 8px;margin-bottom: 10px;" readonly> <br>


                    <label for="" style="color: black;margin-left: 20px;">End Date</label><br>
                    <input type="text" value="{{ distributor.End_date }}" 
                    style="border: 1px solid gray; border-radius: 8px; font-weight: 500;width: 90%;margin-left: 20px;padding: 8px;margin-bottom: 10px;" readonly>


                    <label for="" style="color: black;margin-left: 20px;">Choose New</label><br>
                    <select name="payment_term" id="" 
                    style="margin-bottom: 20px; border: 1px solid gray; border-radius: 8px; font-weight: 500;width: 90%;margin-left: 20px;padding: 8px;" >
                        <option value="" style="background-color: white;">Choose Payment terms</option>
                        {% for t in terms %}
                        <option value="{{t.id}}" style="background-color: white;">{{t.payment_terms_number}} {{t.payment_terms_value}}</option>
                        {% endfor %}
                    </select>

                    <center><button type="submit" class="btn btn-info" style="border-radius: 30px;width: 50%;"><b>Submit</b></button></center>
                </form>
            </div>
            <div class="modal-footer" style="border-top: 1px solid black;">
            <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Close</button>
            
            </div>
        </div>
        </div>
    </div>
</body>

{% endblock %}